<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>


	<div class="login">
		<div class="login__column">
			<nav class="login__nav">
				<a href="" class="login__nav__back">Back to homepage</a>
			</nav>
			<div class="login__welcome">
				<p class="login__header">Welcome back!</p>
			</div>
			<div class="login__form">
				<form action="">
					<label for="login-email">
						<span class="login__form__name">Email Address</span>
						<input type="email" class="login__form__input" id="login-email" required placeholder="johnsmith@mail.com">
					</label>
					<label for="login-password">
						<span class="login__form__name">Password</span>
						<input type="password" class="login__form__input" id="login-password" required placeholder="*******">
					</label>
					<div class="login__errorbox">error</div>
					<button type="submit" class="login__form__submit">Log In</button>
				</form>
				<button type="button" class="login__blankbtn">I forgot password</button>
			</div>
		</div>
		<div class="login__column">
			<img class="login__illustration" src="login-illustration.svg" alt="">
		</div>
	</div>
<script>
	let email = document.getElementById("login-email");
	let forgotBtn = document.querySelector(".login__blankbtn");
	let errorbox = document.querySelector(".login__errorbox");

	forgotBtn.addEventListener("click", ()=>{
		if(email.value != ""){
			if(errorbox.style.transfrom == "translateX(0)"){
				errorbox.style.transfrom = "translateX(-105%)";
			}
			if(validateEmail(email.value)){
				errorbox.classList.add("errorbox-success");
				errorbox.innerHTML = "Email is sent with password reset instructions";
				errorbox.style.transform = "translateX(0)";
				setTimeout(()=>{
					errorbox.style.transform = "translateX(-105%)";
					setTimeout(()=>{ errorbox.innerHTML = ""; errorbox.classList.remove("errorbox-success"); },500);
				},10000)
			}else{
				errorbox.innerHTML = "Enter the correct email";
				errorbox.style.transform = "translateX(0)";
				setTimeout(()=>{
					errorbox.style.transform = "translateX(-105%)";
					setTimeout(()=>{ errorbox.innerHTML = ""; },500);
				},10000)
			}

		}else{
			errorbox.innerHTML = "Fill in the email field!";
			errorbox.style.transform = "translateX(0)";
			setTimeout(()=>{
				errorbox.style.transform = "translateX(-105%)";
				setTimeout(()=>{ errorbox.innerHTML = ""; },500);
			},10000)
		}
	}, false);

	function validateEmail(email) {
    	const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    	return re.test(String(email).toLowerCase());
	}
</script>

</body>
</html>